From 7d90d01cb91205a50725652498630575e8a108c2 Mon Sep 17 00:00:00 2001
From: Francesco Michelini <kekkorider@gmail.com>
Date: Sun, 16 Oct 2016 14:05:36 +0200
Subject: [PATCH] Dropped bower in favor of npm. Build task improvements. Added
 webserver

---
 .gitignore                       |  3 +--
 bower.json                       | 24 ------------------------
 build/www/game/bundle.js         |  4 +---
 build/www/game/bundle.js.map     |  1 -
 build/www/game/bundle.min.js.map |  2 +-
 game/main.js                     |  2 +-
 gulpfile.js                      | 28 ++++++++++++++++++++--------
 package.json                     |  2 ++
 8 files changed, 26 insertions(+), 40 deletions(-)
 delete mode 100644 bower.json
 delete mode 100644 build/www/game/bundle.js.map

diff --git a/.gitignore b/.gitignore
index 6bf1a04..65290a0 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,6 +1,5 @@
-bower_components/
 node_modules/
-dist/
+build/
 game/libs/
 game/bundle.js
 game/bundle.js.map
diff --git a/bower.json b/bower.json
deleted file mode 100644
index 626ed3c..0000000
--- a/bower.json
+++ /dev/null
@@ -1,24 +0,0 @@
-{
-  "name": "phaser-starter",
-  "authors": [
-    "Francesco Michelini <kekkorider@gmail.com>"
-  ],
-  "description": "This is a basic Phaser starter project",
-  "main": "",
-  "keywords": [
-    "phaser",
-    "starter"
-  ],
-  "license": "MIT",
-  "homepage": "",
-  "ignore": [
-    "**/.*",
-    "node_modules",
-    "bower_components",
-    "test",
-    "tests"
-  ],
-  "dependencies": {
-    "phaser": "^2.6.2"
-  }
-}
\ No newline at end of file
diff --git a/build/www/game/bundle.js b/build/www/game/bundle.js
index a99488d..eb70927 100644
--- a/build/www/game/bundle.js
+++ b/build/www/game/bundle.js
@@ -136,6 +136,4 @@ game.state.add('MyGame.Preload', MyGame.Preload);
 game.state.add('MyGame.MainMenu', MyGame.MainMenu);
 game.state.add('MyGame.Game', MyGame.Game);
 
-game.state.start('MyGame.Boot');
-
-//# sourceMappingURL=bundle.js.map
+game.state.start('MyGame.Boot');
\ No newline at end of file
diff --git a/build/www/game/bundle.js.map b/build/www/game/bundle.js.map
deleted file mode 100644
index e20d9ad..0000000
--- a/build/www/game/bundle.js.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"sources":["Boot.js","Preload.js","MainMenu.js","Game.js","Main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["var MyGame = {};\r\n\r\nMyGame.Boot = function() {};\r\n\r\nMyGame.Boot.prototype = {\r\n\r\n\tpreload: function() {\r\n\r\n\t\tthis.load.path = 'assets/';\r\n\r\n\t\t// this.load.image('preloader-bar', 'preloader-bar.png');\r\n\r\n\t}, \r\n\r\n\tcreate: function() {\r\n        console.log('Boot state');\r\n\t\tgame.state.start('MyGame.Preload');\r\n\t}\r\n\r\n};\r\n","/*\r\n * Preload class\r\n */\r\nMyGame.Preload = function() {};\r\n\r\nMyGame.Preload.prototype = {\r\n\r\n\tinit: function() {}, \r\n\r\n\tpreload: function() {\r\n\t\tthis.load.path = 'assets/';\r\n\t}, \r\n\r\n\tcreate: function() {\r\n\t\tconsole.log('Preload state');\r\n\t\tthis.state.start('MyGame.MainMenu');\r\n\t}\r\n\r\n};\r\n","/*\r\n * MainMenu class\r\n */\r\nMyGame.MainMenu = function() {};\r\n\r\nMyGame.MainMenu.prototype = {\r\n\r\n\tcreate: function() {\r\n\r\n        console.log('MainMenu state');\r\n\r\n        var text_style = {\r\n            font: 'normal 23px Arial', \r\n            fill: '#fff', \r\n        };\r\n\r\n        var text = this.add.text(this.world.centerX, this.world.centerY, 'Press Z or tap to start', text_style);\r\n        text.anchor.setTo(0.5);\r\n\r\n        var new_game_key = this.input.keyboard.addKey(Phaser.Keyboard.Z);\r\n        new_game_key.onDown.add(function() {\r\n            this.state.start('MyGame.Game');\r\n        }, this);\r\n\r\n        game.input.onDown.add(function() {\r\n            this.state.start('MyGame.Game');\r\n        }, this);\r\n\r\n\t}\r\n\r\n};\r\n","/*\r\n * Game class\r\n */\r\nMyGame.Game = function(game) {\r\n\r\n\tthis.debug = false;\r\n\r\n\tthis.back_key = null;\r\n\tthis.debug_key = null;\r\n\r\n\tthis.text = null;\r\n\tthis.text_style = {\r\n        font: 'normal 23px Arial', \r\n        fill: '#fff', \r\n\t};\r\n\r\n};\r\n\r\nMyGame.Game.prototype = {\r\n\r\n\tcreate: function() {\r\n\r\n\t\tconsole.log('Game state');\r\n\r\n        this.text = this.add.text(this.world.centerX, this.world.centerY, 'Press Z or tap to go to MainMenu state', this.text_style);\r\n        this.text.anchor.setTo(0.5);\r\n\r\n\t\t// Back to MainMenu\r\n        this.back_key = this.input.keyboard.addKey(Phaser.Keyboard.Z);\r\n        this.back_key.onDown.add(function() {\r\n            this.state.start('MyGame.MainMenu');\r\n        }, this);\r\n\r\n\t\tgame.input.onDown.add(function() {\r\n            this.state.start('MyGame.MainMenu');\r\n        }, this);\r\n\r\n\t\t// Debug key\r\n\t\tthis.debug_key = this.input.keyboard.addKey(Phaser.Keyboard.D);\r\n        this.debug_key.onDown.add(function() {\r\n            this.toggleDebug();\r\n        }, this);\r\n\r\n\t}, \r\n\r\n\trender: function() {\r\n\r\n\t\tif ( this.debug ) {\r\n\t\t\tgame.debug.text('Debug active', 30, 30);\r\n\t\t}\r\n\r\n\t}, \r\n\r\n\ttoggleDebug: function() {\r\n\t\tthis.debug = !this.debug;\r\n\t}\r\n\r\n};","var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'game', null);\r\n\r\ngame.state.add('MyGame.Boot', MyGame.Boot);\r\ngame.state.add('MyGame.Preload', MyGame.Preload);\r\ngame.state.add('MyGame.MainMenu', MyGame.MainMenu);\r\ngame.state.add('MyGame.Game', MyGame.Game);\r\n\r\ngame.state.start('MyGame.Boot');\r\n"],"sourceRoot":"/source/"}
\ No newline at end of file
diff --git a/build/www/game/bundle.min.js.map b/build/www/game/bundle.min.js.map
index f910bae..f7cc291 100644
--- a/build/www/game/bundle.min.js.map
+++ b/build/www/game/bundle.min.js.map
@@ -1 +1 @@
-{"version":3,"sources":["Boot.js","Preload.js","MainMenu.js","Game.js","Main.js"],"names":["MyGame","Boot","prototype","preload","this","load","path","create","console","log","game","state","start","Preload","init","MainMenu","text_style","font","fill","text","add","world","centerX","centerY","anchor","setTo","new_game_key","input","keyboard","addKey","Phaser","Keyboard","Z","onDown","Game","debug","back_key","debug_key","D","toggleDebug","render","CANVAS"],"mappings":"AAAA,GAAAA,UAEAA,QAAAC,KAAA,aAEAD,OAAAC,KAAAC,WAEAC,QAAA,WAEAC,KAAAC,KAAAC,KAAA,WAMAC,OAAA,WACAC,QAAAC,IAAA,cACAC,KAAAC,MAAAC,MAAA,oBCbAZ,OAAAa,QAAA,aAEAb,OAAAa,QAAAX,WAEAY,KAAA,aAEAX,QAAA,WACAC,KAAAC,KAAAC,KAAA,WAGAC,OAAA,WACAC,QAAAC,IAAA,iBACAL,KAAAO,MAAAC,MAAA,qBCZAZ,OAAAe,SAAA,aAEAf,OAAAe,SAAAb,WAEAK,OAAA,WAEAC,QAAAC,IAAA,iBAEA,IAAAO,IACAC,KAAA,oBACAC,KAAA,QAGAC,EAAAf,KAAAgB,IAAAD,KAAAf,KAAAiB,MAAAC,QAAAlB,KAAAiB,MAAAE,QAAA,0BAAAP,EACAG,GAAAK,OAAAC,MAAA,GAEA,IAAAC,GAAAtB,KAAAuB,MAAAC,SAAAC,OAAAC,OAAAC,SAAAC,EACAN,GAAAO,OAAAb,IAAA,WACAhB,KAAAO,MAAAC,MAAA,gBACAR,MAEAM,KAAAiB,MAAAM,OAAAb,IAAA,WACAhB,KAAAO,MAAAC,MAAA,gBACAR,QCvBAJ,OAAAkC,KAAA,SAAAxB,GAEAN,KAAA+B,OAAA,EAEA/B,KAAAgC,SAAA,KACAhC,KAAAiC,UAAA,KAEAjC,KAAAe,KAAA,KACAf,KAAAY,YACAC,KAAA,oBACAC,KAAA,SAKAlB,OAAAkC,KAAAhC,WAEAK,OAAA,WAEAC,QAAAC,IAAA,cAEAL,KAAAe,KAAAf,KAAAgB,IAAAD,KAAAf,KAAAiB,MAAAC,QAAAlB,KAAAiB,MAAAE,QAAA,yCAAAnB,KAAAY,YACAZ,KAAAe,KAAAK,OAAAC,MAAA,IAGArB,KAAAgC,SAAAhC,KAAAuB,MAAAC,SAAAC,OAAAC,OAAAC,SAAAC,GACA5B,KAAAgC,SAAAH,OAAAb,IAAA,WACAhB,KAAAO,MAAAC,MAAA,oBACAR,MAEAM,KAAAiB,MAAAM,OAAAb,IAAA,WACAhB,KAAAO,MAAAC,MAAA,oBACAR,MAGAA,KAAAiC,UAAAjC,KAAAuB,MAAAC,SAAAC,OAAAC,OAAAC,SAAAO,GACAlC,KAAAiC,UAAAJ,OAAAb,IAAA,WACAhB,KAAAmC,eACAnC,OAIAoC,OAAA,WAEApC,KAAA+B,OACAzB,KAAAyB,MAAAhB,KAAA,eAAA,GAAA,KAKAoB,YAAA,WACAnC,KAAA+B,OAAA/B,KAAA+B,OCtDA,IAAAzB,MAAA,GAAAoB,QAAAI,KAAA,IAAA,IAAAJ,OAAAW,OAAA,OAAA,KAEA/B,MAAAC,MAAAS,IAAA,cAAApB,OAAAC,MACAS,KAAAC,MAAAS,IAAA,iBAAApB,OAAAa,SACAH,KAAAC,MAAAS,IAAA,kBAAApB,OAAAe,UACAL,KAAAC,MAAAS,IAAA,cAAApB,OAAAkC,MAEAxB,KAAAC,MAAAC,MAAA","file":"bundle.min.js","sourcesContent":["var MyGame = {};\r\n\r\nMyGame.Boot = function() {};\r\n\r\nMyGame.Boot.prototype = {\r\n\r\n\tpreload: function() {\r\n\r\n\t\tthis.load.path = 'assets/';\r\n\r\n\t\t// this.load.image('preloader-bar', 'preloader-bar.png');\r\n\r\n\t}, \r\n\r\n\tcreate: function() {\r\n        console.log('Boot state');\r\n\t\tgame.state.start('MyGame.Preload');\r\n\t}\r\n\r\n};\r\n","/*\r\n * Preload class\r\n */\r\nMyGame.Preload = function() {};\r\n\r\nMyGame.Preload.prototype = {\r\n\r\n\tinit: function() {}, \r\n\r\n\tpreload: function() {\r\n\t\tthis.load.path = 'assets/';\r\n\t}, \r\n\r\n\tcreate: function() {\r\n\t\tconsole.log('Preload state');\r\n\t\tthis.state.start('MyGame.MainMenu');\r\n\t}\r\n\r\n};\r\n","/*\r\n * MainMenu class\r\n */\r\nMyGame.MainMenu = function() {};\r\n\r\nMyGame.MainMenu.prototype = {\r\n\r\n\tcreate: function() {\r\n\r\n        console.log('MainMenu state');\r\n\r\n        var text_style = {\r\n            font: 'normal 23px Arial', \r\n            fill: '#fff', \r\n        };\r\n\r\n        var text = this.add.text(this.world.centerX, this.world.centerY, 'Press Z or tap to start', text_style);\r\n        text.anchor.setTo(0.5);\r\n\r\n        var new_game_key = this.input.keyboard.addKey(Phaser.Keyboard.Z);\r\n        new_game_key.onDown.add(function() {\r\n            this.state.start('MyGame.Game');\r\n        }, this);\r\n\r\n        game.input.onDown.add(function() {\r\n            this.state.start('MyGame.Game');\r\n        }, this);\r\n\r\n\t}\r\n\r\n};\r\n","/*\r\n * Game class\r\n */\r\nMyGame.Game = function(game) {\r\n\r\n\tthis.debug = false;\r\n\r\n\tthis.back_key = null;\r\n\tthis.debug_key = null;\r\n\r\n\tthis.text = null;\r\n\tthis.text_style = {\r\n        font: 'normal 23px Arial', \r\n        fill: '#fff', \r\n\t};\r\n\r\n};\r\n\r\nMyGame.Game.prototype = {\r\n\r\n\tcreate: function() {\r\n\r\n\t\tconsole.log('Game state');\r\n\r\n        this.text = this.add.text(this.world.centerX, this.world.centerY, 'Press Z or tap to go to MainMenu state', this.text_style);\r\n        this.text.anchor.setTo(0.5);\r\n\r\n\t\t// Back to MainMenu\r\n        this.back_key = this.input.keyboard.addKey(Phaser.Keyboard.Z);\r\n        this.back_key.onDown.add(function() {\r\n            this.state.start('MyGame.MainMenu');\r\n        }, this);\r\n\r\n\t\tgame.input.onDown.add(function() {\r\n            this.state.start('MyGame.MainMenu');\r\n        }, this);\r\n\r\n\t\t// Debug key\r\n\t\tthis.debug_key = this.input.keyboard.addKey(Phaser.Keyboard.D);\r\n        this.debug_key.onDown.add(function() {\r\n            this.toggleDebug();\r\n        }, this);\r\n\r\n\t}, \r\n\r\n\trender: function() {\r\n\r\n\t\tif ( this.debug ) {\r\n\t\t\tgame.debug.text('Debug active', 30, 30);\r\n\t\t}\r\n\r\n\t}, \r\n\r\n\ttoggleDebug: function() {\r\n\t\tthis.debug = !this.debug;\r\n\t}\r\n\r\n};","var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'game', null);\r\n\r\ngame.state.add('MyGame.Boot', MyGame.Boot);\r\ngame.state.add('MyGame.Preload', MyGame.Preload);\r\ngame.state.add('MyGame.MainMenu', MyGame.MainMenu);\r\ngame.state.add('MyGame.Game', MyGame.Game);\r\n\r\ngame.state.start('MyGame.Boot');\r\n"],"sourceRoot":"/source/"}
\ No newline at end of file
+{"version":3,"sources":["Boot.js","Preload.js","MainMenu.js","Game.js","main.js"],"names":["MyGame","Boot","prototype","preload","this","load","path","create","console","log","game","state","start","Preload","init","MainMenu","text_style","font","fill","text","add","world","centerX","centerY","anchor","setTo","new_game_key","input","keyboard","addKey","Phaser","Keyboard","Z","onDown","Game","debug","back_key","debug_key","D","toggleDebug","render","CANVAS"],"mappings":"AAAA,GAAAA,UAEAA,QAAAC,KAAA,aAEAD,OAAAC,KAAAC,WAEAC,QAAA,WAEAC,KAAAC,KAAAC,KAAA,WAMAC,OAAA,WACAC,QAAAC,IAAA,cACAC,KAAAC,MAAAC,MAAA,oBCbAZ,OAAAa,QAAA,aAEAb,OAAAa,QAAAX,WAEAY,KAAA,aAEAX,QAAA,WACAC,KAAAC,KAAAC,KAAA,WAGAC,OAAA,WACAC,QAAAC,IAAA,iBACAL,KAAAO,MAAAC,MAAA,qBCZAZ,OAAAe,SAAA,aAEAf,OAAAe,SAAAb,WAEAK,OAAA,WAEAC,QAAAC,IAAA,iBAEA,IAAAO,IACAC,KAAA,oBACAC,KAAA,QAGAC,EAAAf,KAAAgB,IAAAD,KAAAf,KAAAiB,MAAAC,QAAAlB,KAAAiB,MAAAE,QAAA,0BAAAP,EACAG,GAAAK,OAAAC,MAAA,GAEA,IAAAC,GAAAtB,KAAAuB,MAAAC,SAAAC,OAAAC,OAAAC,SAAAC,EACAN,GAAAO,OAAAb,IAAA,WACAhB,KAAAO,MAAAC,MAAA,gBACAR,MAEAM,KAAAiB,MAAAM,OAAAb,IAAA,WACAhB,KAAAO,MAAAC,MAAA,gBACAR,QCvBAJ,OAAAkC,KAAA,SAAAxB,GAEAN,KAAA+B,OAAA,EAEA/B,KAAAgC,SAAA,KACAhC,KAAAiC,UAAA,KAEAjC,KAAAe,KAAA,KACAf,KAAAY,YACAC,KAAA,oBACAC,KAAA,SAKAlB,OAAAkC,KAAAhC,WAEAK,OAAA,WAEAC,QAAAC,IAAA,cAEAL,KAAAe,KAAAf,KAAAgB,IAAAD,KAAAf,KAAAiB,MAAAC,QAAAlB,KAAAiB,MAAAE,QAAA,yCAAAnB,KAAAY,YACAZ,KAAAe,KAAAK,OAAAC,MAAA,IAGArB,KAAAgC,SAAAhC,KAAAuB,MAAAC,SAAAC,OAAAC,OAAAC,SAAAC,GACA5B,KAAAgC,SAAAH,OAAAb,IAAA,WACAhB,KAAAO,MAAAC,MAAA,oBACAR,MAEAM,KAAAiB,MAAAM,OAAAb,IAAA,WACAhB,KAAAO,MAAAC,MAAA,oBACAR,MAGAA,KAAAiC,UAAAjC,KAAAuB,MAAAC,SAAAC,OAAAC,OAAAC,SAAAO,GACAlC,KAAAiC,UAAAJ,OAAAb,IAAA,WACAhB,KAAAmC,eACAnC,OAIAoC,OAAA,WAEApC,KAAA+B,OACAzB,KAAAyB,MAAAhB,KAAA,eAAA,GAAA,KAKAoB,YAAA,WACAnC,KAAA+B,OAAA/B,KAAA+B,OCtDA,IAAAzB,MAAA,GAAAoB,QAAAI,KAAA,IAAA,IAAAJ,OAAAW,OAAA,OAAA,KAEA/B,MAAAC,MAAAS,IAAA,cAAApB,OAAAC,MACAS,KAAAC,MAAAS,IAAA,iBAAApB,OAAAa,SACAH,KAAAC,MAAAS,IAAA,kBAAApB,OAAAe,UACAL,KAAAC,MAAAS,IAAA,cAAApB,OAAAkC,MAEAxB,KAAAC,MAAAC,MAAA","file":"bundle.min.js","sourcesContent":["var MyGame = {};\r\n\r\nMyGame.Boot = function() {};\r\n\r\nMyGame.Boot.prototype = {\r\n\r\n\tpreload: function() {\r\n\r\n\t\tthis.load.path = 'assets/';\r\n\r\n\t\t// this.load.image('preloader-bar', 'preloader-bar.png');\r\n\r\n\t}, \r\n\r\n\tcreate: function() {\r\n        console.log('Boot state');\r\n\t\tgame.state.start('MyGame.Preload');\r\n\t}\r\n\r\n};\r\n","/*\r\n * Preload class\r\n */\r\nMyGame.Preload = function() {};\r\n\r\nMyGame.Preload.prototype = {\r\n\r\n\tinit: function() {}, \r\n\r\n\tpreload: function() {\r\n\t\tthis.load.path = 'assets/';\r\n\t}, \r\n\r\n\tcreate: function() {\r\n\t\tconsole.log('Preload state');\r\n\t\tthis.state.start('MyGame.MainMenu');\r\n\t}\r\n\r\n};\r\n","/*\r\n * MainMenu class\r\n */\r\nMyGame.MainMenu = function() {};\r\n\r\nMyGame.MainMenu.prototype = {\r\n\r\n\tcreate: function() {\r\n\r\n        console.log('MainMenu state');\r\n\r\n        var text_style = {\r\n            font: 'normal 23px Arial', \r\n            fill: '#fff', \r\n        };\r\n\r\n        var text = this.add.text(this.world.centerX, this.world.centerY, 'Press Z or tap to start', text_style);\r\n        text.anchor.setTo(0.5);\r\n\r\n        var new_game_key = this.input.keyboard.addKey(Phaser.Keyboard.Z);\r\n        new_game_key.onDown.add(function() {\r\n            this.state.start('MyGame.Game');\r\n        }, this);\r\n\r\n        game.input.onDown.add(function() {\r\n            this.state.start('MyGame.Game');\r\n        }, this);\r\n\r\n\t}\r\n\r\n};\r\n","/*\r\n * Game class\r\n */\r\nMyGame.Game = function(game) {\r\n\r\n\tthis.debug = false;\r\n\r\n\tthis.back_key = null;\r\n\tthis.debug_key = null;\r\n\r\n\tthis.text = null;\r\n\tthis.text_style = {\r\n        font: 'normal 23px Arial', \r\n        fill: '#fff', \r\n\t};\r\n\r\n};\r\n\r\nMyGame.Game.prototype = {\r\n\r\n\tcreate: function() {\r\n\r\n\t\tconsole.log('Game state');\r\n\r\n        this.text = this.add.text(this.world.centerX, this.world.centerY, 'Press Z or tap to go to MainMenu state', this.text_style);\r\n        this.text.anchor.setTo(0.5);\r\n\r\n\t\t// Back to MainMenu\r\n        this.back_key = this.input.keyboard.addKey(Phaser.Keyboard.Z);\r\n        this.back_key.onDown.add(function() {\r\n            this.state.start('MyGame.MainMenu');\r\n        }, this);\r\n\r\n\t\tgame.input.onDown.add(function() {\r\n            this.state.start('MyGame.MainMenu');\r\n        }, this);\r\n\r\n\t\t// Debug key\r\n\t\tthis.debug_key = this.input.keyboard.addKey(Phaser.Keyboard.D);\r\n        this.debug_key.onDown.add(function() {\r\n            this.toggleDebug();\r\n        }, this);\r\n\r\n\t}, \r\n\r\n\trender: function() {\r\n\r\n\t\tif ( this.debug ) {\r\n\t\t\tgame.debug.text('Debug active', 30, 30);\r\n\t\t}\r\n\r\n\t}, \r\n\r\n\ttoggleDebug: function() {\r\n\t\tthis.debug = !this.debug;\r\n\t}\r\n\r\n};","var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'game', null);\r\n\r\ngame.state.add('MyGame.Boot', MyGame.Boot);\r\ngame.state.add('MyGame.Preload', MyGame.Preload);\r\ngame.state.add('MyGame.MainMenu', MyGame.MainMenu);\r\ngame.state.add('MyGame.Game', MyGame.Game);\r\n\r\ngame.state.start('MyGame.Boot');"],"sourceRoot":"/source/"}
\ No newline at end of file
diff --git a/game/main.js b/game/main.js
index 01d87ec..7d484f2 100644
--- a/game/main.js
+++ b/game/main.js
@@ -5,4 +5,4 @@ game.state.add('MyGame.Preload', MyGame.Preload);
 game.state.add('MyGame.MainMenu', MyGame.MainMenu);
 game.state.add('MyGame.Game', MyGame.Game);
 
-game.state.start('MyGame.Boot');
+game.state.start('MyGame.Boot');
\ No newline at end of file
diff --git a/gulpfile.js b/gulpfile.js
index 18b90bf..1e96e46 100644
--- a/gulpfile.js
+++ b/gulpfile.js
@@ -4,7 +4,8 @@ var gulp       = require('gulp'),
     concat     = require('gulp-concat'), 
     sourcemaps = require('gulp-sourcemaps'),
     pump       = require('pump'),
-    jshint     = require('gulp-jshint');
+    jshint     = require('gulp-jshint'), 
+    webserver  = require('gulp-webserver');
 
 var PATHS = {
     js: [
@@ -12,32 +13,33 @@ var PATHS = {
         'game/states/Preload.js', 
         'game/states/MainMenu.js', 
         'game/states/Game.js', 
-        'game/Main.js'
+        'game/main.js'
     ], 
     libs: [
-        'bower_components/phaser/build/phaser.min.js'
+        'node_modules/phaser/build/phaser.min.js'
+    ], 
+    html: [
+        'index.html'
     ]
 }
 
-gulp.task('default', ['watch']);
+gulp.task('default', ['webserver', 'watch']);
 
 gulp.task('build', ['libs', 'jshint'], function(cb) {
 
     pump([
-        gulp.src('index.html'), 
+        gulp.src(PATHS.html), 
         gulp.dest('build/www')
     ]);
 
     pump([
-        gulp.src('assets/*.*'), 
+        gulp.src('assets/**/*.*'), 
         gulp.dest('build/www/assets')
     ]);
 
     pump([
         gulp.src(PATHS.js), 
-        sourcemaps.init(), 
         concat('bundle.js'), 
-        sourcemaps.write('/'), 
         gulp.dest('build/www/game'), 
         gulp.dest('game')
     ]);
@@ -66,6 +68,16 @@ gulp.task('libs', function() {
         .pipe(gulp.dest('game/libs'));
 });
 
+gulp.task('webserver', ['build'], function() {
+    pump([
+        gulp.src('build/www'), 
+        webserver({
+            open: true, 
+            livereload: true
+        })
+    ]);
+});
+
 gulp.task('watch', function() {
     gulp.watch(PATHS.js, ['build']);
 });
\ No newline at end of file
diff --git a/package.json b/package.json
index b1f0052..b555893 100644
--- a/package.json
+++ b/package.json
@@ -28,8 +28,10 @@
     "gulp-sourcemaps": "^1.6.0",
     "gulp-uglify": "^2.0.0",
     "gulp-watch": "^4.3.9",
+    "gulp-webserver": "^0.9.1",
     "jshint": "^2.9.3",
     "jshint-stylish": "^2.2.1",
+    "phaser": "^2.6.2",
     "pump": "^1.0.1"
   }
 }
-- 
2.9.2.windows.1

